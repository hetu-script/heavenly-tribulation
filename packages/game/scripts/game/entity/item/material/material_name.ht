import '../../shared_names/color.json' as colorPrefix
import '../../shared_names/spirit.json' as spiritPrefix
import 'name/material.json' as material
import '../../common.ht'
import '../../../random.ht'

fun generateMaterialName({category, rarity}) {
  assert(material.keys.contains(category))
  rarity ??= getRarity().rarity
  final pre = random.nextIterable(commonNames)
  final cp = random.nextIterable(colorPrefix)
  final sp = random.nextIterable(spiritPrefix)
  final kind = random.nextIterable(material[category])
  final name
  when (rarity) {
    'exotic' -> name = pre + cp + sp + kind
    'mythic' -> name = pre + sp + kind
    'legendary' -> name = pre + sp + kind
    'epic' -> name = pre + kind
    'rare' -> name = pre + kind
    'uncommon' -> name = cp + sp + kind
    'common' -> name = cp + kind
  }
  return { name, category, rarity }
}
