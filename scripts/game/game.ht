external class SamsaraGame {
  fun updateLanguagesData(data)
}

var buildContext

fun build(ctx) {
  buildContext = ctx
}

var dart: SamsaraGame

final game = {
  timestamp: 288000,
  languages: {
    chs: {},
    eng: {}
  },
  characters: {},
  locations: {},
  dialogs: {},
  mazes: {},
  mods: {},
  entities: {},
}

fun nextTick() {
  ++game.timestamp

  for (final entity in game.entities) {
    final update = entity.onUpdate;
    if (update is function) {
      update()
    }
  }
}