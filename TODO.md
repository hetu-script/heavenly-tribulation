# 0.2.0 版本计划

0.2.0 版本作为 Steam demo。需要至少完成大地图战略。门派经营玩法的最小循环。

# 重要事项

大地图 NPC 移动机制

据点和场景的最大规模：5

家中可以寄放材料
家宅可以升级规模

每次进入大世界，计算身上的物品的总价值，并以此和自身境界结合作为遇到敌人的几率。带的东西越值钱，自身境界越低，遇到敌人几率越高。

sandbox 生成世界时，根据种子决定起始时间（在一年之内随机）

在据点会堂管理界面可以一键向所有子建筑存入资源。

占卜可以得知自己的寿元、运气等隐藏属性。

山地和水面不能作为领地，除了

人物小传中列出人物历史，并且可以点击打开具体的羁绊

区分开使用和服用。破境丹皆可以使用也可以服用。

将 setLoading 挪到 data 中作为借口，然后每次 push 一个黑屏背景

任务期限临近需要提醒

将 sandbox 生成步骤逐步拆分出来，然后每个步骤结束后 setstate，这样便可以刷新载入进度条

非门派成员支付的租金会受到门派关系的影响。敌对门派无法租用，关系更好的门派之间租金更低。

炼器相关界面和 API

国家和国家之间的关系

每个月计算一次名声

所有副职业建筑功能

灌灵（灵石充能），淬毒武器（武器获得额外词条）灌灵和淬毒都是以按照战斗场次削减次数，类似符箓。

秘境石自身也有一个词缀系统（类似 POE）

制作傀儡，相当于制作一个伙伴，但有使用次数。伙伴的卡组不能修改。

装备词条包括：获得某个关键天赋。例如灵气溢出造成伤害之类的。

# 待安排事项

每个角色的每个月的刷新逻辑：

家宅可以升级，升级后会改变插画，并且可以开启在家中打坐的功能。家宅中增加的具体功能可以定制。

学会煞气后，之前击败过的敌人，但未获得的煞气，会一并返还。

修炼界面添加一个女性打坐图片

装备窗口增加一个角色站立的像素动画

updateGame 需要补充逻辑，某些时候，时间会超过 kTicksPerTime，这样需要计算当前的 tick 以及下一次触发 time 变动的 tick 差额

给 entity listview 窗口添加一个材料物价表

战败后有一定几率发生奇遇。

藏书阁升级后，精炼卡牌时有几率不消耗材料

计算量比较大的代码逐步挪到 dart 里面，以改善效率

脚本中统一加上`;`，以和 Dart 侧代码风格统一。

逐步将所有核心逻辑移动到 Dart 侧，并改为 external function 的形式

json 的 key 中统一用下划线代替圆点和驼峰

# 待定事项

将按键检测放到 APP 最顶层，然后通过 engine.emit 派发到下层 widget

inventory 的 filter 可以是一个函数，这样就可以用函数式的方法过滤物品清单

进阶境界会增加生命值，以增加境界差异。

游戏内等级其实在某些情况下可以超出游戏上限，例如满级后的秘境难度提升等。

某些地方的格式化文字，加一个最大宽度的参数，如果宽度超过，将 fontsize 减小直到可以放下或者达到最小

给卡牌上加两个小图标：境界和流派；每个流派的卡牌统一背景颜色用来增加辨识度：
中立：纯白
悟道：浅绿
御剑：淡蓝
锻体：朱红
法身：橙黄
炼魂：漆黑

比较麻烦的功能：对话框中的关键词可以点击并打开对应面板，历史中的项目（角色、地点、任务）可以点击并打开对应面板，历史的文本更换为富文本

是否允许玩家建立新据点

是否规定每个据点同一时间只能领取一个悬赏任务，且再次点击悬赏任务为提交任务。

标题 LOGO 是空心字，背后有纹理在流动
