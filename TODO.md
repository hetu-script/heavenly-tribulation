# 河图脚本功能

添加 switch case 的灵活性，不用 case 时，需要用{}包裹分支代码块，
但用 case 时，可以省略{}，而是用冒号和下一个 case 来判断分支代码块范围

# 重要事项

炼器相关界面和 API

国界线绘制

国家和国家之间的关系

在 scene cotroller 中记录当前栈上的场景和参数，再次载入游戏时，按照原样复原

每个月计算一次名声

修炼界面添加一个女性打坐图片

所有建筑的修建、升级和功能

# 其他事项

将地图生成相关的代码逐步挪到 dart 里面，以改善效率

合并 locationView 和 editLocation

siteData 中添加一个 priority，用来对场景卡牌排序

脚本中统一加上`;`，以和 Dart 侧代码风格统一。

将脚本内的 Dialog 接口改成对象绑定模式，然后直接和 app 侧的 dialog 对象绑定。这样可以统一脚本侧和 Dart 侧的代码写法。

给地形贴图都补上厚度

给 world information 窗口添加一个材料物价表

超出游戏等级上限后。敌人仍会增加属性（升级一个内置的隐藏天赋）

promptQuest 改成通用的窗口，不需要和日志相关，也可是关键信息提示等等。

据点场景中也可以保存，下次进入会直接进入该场景

物品充能也可以用别的材料，例如毒药

格式化文字时，加一个最大宽度的参数，如果宽度超过，将 fontsize 减小直到可以放下或者达到最小

载入场景时，先通过 state 告知开始载入，最后再通过 state 通知载入结束

标题 LOGO 是空心字，背后有纹理在流动

逐步将所有核心逻辑移动到 Dart 侧，并改为 external function 的形式

json 的 key 中统一用下划线代替圆点

给卡牌上加两个小图标：境界和流派

合并一些 common.dart 文件到一起

每个流派的卡牌统一背景颜色用来增加辨识度：
中立：纯白
悟道：浅绿
御剑：淡蓝
锻体：朱红
法身：橙黄
炼魂：漆黑

物品栏等窗口改为从窗口左侧侧栏按钮打开，顶部状态栏摊平铺满

任务、历史等区域的文本更换为富文本

历史中的项目（角色、地点、任务）可以点击并打开对应面板
