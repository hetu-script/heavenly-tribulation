import '../common.ht'

const kSilverExchange = 1000
const kGoldExchange = 1000000

const kItemDefaultIcon = 'assets/images/unknown_item.png'
// final kDefaultItemDescription = getLocaleString('defaultItemDescription')

const kUnknownItemIcon = 'icon/unknown_item.png'

const kEquipTypeOffense = 'offense'
const kEquipTypeSupport = 'support'
const kEquipTypeDefense = 'defense'
const kEquipTypeArcana = 'arcana'
const kEquipTypeCompanion = 'companion'
// const kEquipTypeManeuver = 'maneuver'

// final kEquipmentMax = {
//   offense: 5,
//   support: 5,
//   defense: 4,
//   companion: 4,
// }

const kEquipmentMax = 7
const kEquipmentSupportMax = 4

final kRarity2ItemLevels = {
  common: 10, // common 白
  uncommon: 20, // uncommon 灰
  rare: 30, // rare 蓝
  epic: 40, // epic 紫
  legendary: 50, // legendary 橙
  mythic: 60, // mythic 金
  exotic: 70, // exotic 虹
}

fun calculateItemStats(item) {
  item.stats = item.attributes.clone()
}

fun calculateItemSupports(item, character) {
  calculateItemStats(item)
  for (final supportItemEquipData in item.equippedSupports) {
    final supportItem = getEquipped(supportItemEquipData, character)
    for (final effect of supportItem.stats.effects) {
      item.stats.effects[effect.id] = effect
    }
  }
}
