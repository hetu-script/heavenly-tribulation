# 羁绊

羁绊：人物对其他事物（角色，组织，物品，据点等）的主观印象和评价
人物对其他人物的羁绊不一定是双向的，可能只有单方面的数据

## 第一印象

是否符合容貌偏好
是否早已名声在外
是否是同一种族
是否属于同一门派
是否有亲戚关系
是否当前住在同一个据点

## 浪漫关系初始好感度

是否符合容貌偏好
是否具有相似人格
是否具有相似动机

# 关系

关系：人和人之间的客观纽带，包括亲情，师徒，友情，爱情，仇恨等等
和同一个人，可能同时存在不同 category 的关系，比如同时是师徒，又是爱人
每种关系都会增加羁绊中的好感度数值
创建关系数据时，按照约定以前辈角色为 [subject]，后辈角色为 [target]
新创建的亲戚和师徒关系，一定是直接辈分的关系，例如儿女，徒弟等等
关系一定是双方的，将后辈角色的关系数据添加到前辈角色中时，自动将对应的关系数据添加到后辈身上
创建关系时，如果不存在羁绊，会自动添加羁绊数据

## 关系的种类

关系分为：家族、宗门、爱情、友情(仇恨)四种主要类型
亲情、宗门和爱情关系都是正面关系，创建关系时会让羁绊评分增加
而友情可能存在反面，也就是仇恨关系。创建关系时会让羁绊评分减少
某些时候可能存在单方面的关系，例如一方恋慕另一方，但另一方对此并无特殊看待。
对于霸凌关系而言，主动和被动的仇恨程度不同。被动方更甚。

| 类型         | 亲密低        |                     | 亲密高         |
| ------------ | ------------- | ------------------- | -------------- |
| 亲情         | 远亲          | 血亲/结拜/收养/过继 | 夫妻/父母/儿女 |
| 宗门         | 同门          | 同辈                | 师父/弟子      |
| 爱情         | 恋慕(单方面)  | 情人                | 知己           |
| 友情 <> 仇恨 | 同伴 <>霸凌者 | 朋友 <> 仇敌        | 至交 <> 死敌   |
| 支配         | 主仆(姬妾)    |                     |                |

数据保存时，每种具体类型下以对方角色的 id 为 key，value 是一个 relationship data

## 声望

声望分为“声名”和“恶名”两种同时存在的属性，如果都很高的话，就是所谓“亦正亦邪”的人物。

组织也有自己的声望，人物的每次声望改变，都会同时影响到他所属于的组织。并且即便这个人之后脱离了组织，组织声望也不会因此恢复。

声名的统计方法是：对此人的评价大于等于零的人数(n)除以世界总人口(p)。因此声名是一个动态值。因为评价等于 0 也会包括在内，意味着只是听说过或者知道此人，也算作声名。

默默无闻: 0 < n/p <= 0.06
鲜为人知: 0.06 < n/p <= 0.14
渐露头角: 0.14 < n/p <= 0.24
小有名气: 0.24 < n/p <= 0.36
名声鹊起: 0.36 < n/p <= 0.5
名声显赫: 0.5 < n/p <= 0.7
名满天下: 0.7 < n/p <= 0.95
举世闻名: 0.95 < n/p < 1

### 恶名

恶名是独立于声名之外的计算方式，统计方法是：对此人的评价为负的人数(n)除以世界总人口(p)。

行止不端: 0 < n/p <= 0.06
劣迹斑斑: 0.06 < n/p <= 0.14
声名狼藉: 0.14 < n/p <= 0.24
恶名昭彰: 0.24 < n/p <= 0.36
千夫所指: 0.36 < n/p <= 0.5
众矢之的: 0.5 < n/p <= 0.7
罪孽深重: 0.7 < n/p <= 0.95
罄竹难书: 0.95 < n/p < 1

**声名和恶名不会即时更新，而是每个月更新一次。**

# 关系和羁绊

关系：人和人之间的客观纽带，包括亲情，宗门，爱情，友情(仇恨)，雇佣等等
分为：亲族、宗门、爱情、友情、仇恨、支配

| 类型 | score >= 0 | score >= 40         | score >= 80    |
| ---- | ---------- | ------------------- | -------------- |
| 亲族 | 远亲       | 血亲/结拜/收养/过继 | 夫妻/父母/儿女 |
| 宗门 | 同门       | 同辈                | 师父/弟子      |
| 支配 | 仆役/姬妾  | 高级仆役/侧室       | 主要仆役/正室  |
| 爱情 | 恋慕       | 情人                | 灵魂伴侣       |
| 友情 | 相识       | 朋友                | 知己           |
| 仇恨 | 不和       | 仇敌                | 死敌           |

[category]: 'family', 'sect', 'romance', 'friendship'
[kind]: 'parent', 'spouse'
[addressName]: 称谓，称谓和关系本身的名字不同，比如对外将自己的 wife 称作妻子，但面对妻子时称呼对方娘子

配偶、亲情和师徒关系会有[kind]，用来描述具体的关系，其他的关系则只有[category]

两个人可能同时存在多种不同[category]关系，比如同时是师徒，又是爱人

新创建关系时，会在双方的数据中同时创建对应的关系数据

同时也会检索其他的关系图，将所有对应的关系数据添加到和这两个角色有关系的其他角色身上

创建新关系数据时，如果不存在羁绊[Bond]，会自动添加羁绊数据

创建关系时本身只有一个初始的亲近程度，0-50 ，数字越大，越亲近，典型值：45 代表师父，儿女，40 代表夫妻等等。

但角色之间真正的好感度由羁绊[Bond]维护

对于亲族、宗门和支配，在创建关系并使用初始亲密更新好感度后，便不会再变化

但对于爱情、友情和仇恨关系，随着羁绊中的好感度变化，会改变关系的类型。

在爱情、友情和仇恨关系的第一阶段，并不会出现在 Bond.relationships 中
